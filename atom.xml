<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ZY&#39;s Blog</title>
  <subtitle>Young for you.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-07-10T14:15:16.465Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Z Yong</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>jersey2</title>
    <link href="http://yoursite.com/2017/07/10/jersey2/"/>
    <id>http://yoursite.com/2017/07/10/jersey2/</id>
    <published>2017-07-10T13:54:27.000Z</published>
    <updated>2017-07-10T14:15:16.465Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、什么是Jersey"><a href="#一、什么是Jersey" class="headerlink" title="一、什么是Jersey"></a>一、什么是Jersey</h2><p>   Jersey 是一个Java规范（JAX-RS）下的基于Rest风格的Web Service开发框架。</p>
<p>   说的直白一点，主要应用于移动项目，用来给移动终端和服务端传递数据。</p>
<p>   Rest则是一种目前主流的软件架构风格，它可以通过一套统一的接口为 Web，iOS和Android提供服务。因为有些平台不需要显式的前端，只需要一套提供服务的接口，于是就有了Rest风格的软件架构。</p>
<h2 id="二、Jersey-Spring-Mybatis搭建一个简单的Web-Service"><a href="#二、Jersey-Spring-Mybatis搭建一个简单的Web-Service" class="headerlink" title="二、Jersey+Spring+Mybatis搭建一个简单的Web Service"></a>二、Jersey+Spring+Mybatis搭建一个简单的Web Service</h2><h4 id="1、在Eclipse下创建一个Maven工程"><a href="#1、在Eclipse下创建一个Maven工程" class="headerlink" title="1、在Eclipse下创建一个Maven工程"></a>1、在Eclipse下创建一个Maven工程</h4><p>工程目录结构如下图：</p>
<p><img src="http://img.blog.csdn.net/20170710212939408?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYmFieWxvdmVfQmFMZQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="目录"><br>   上图中——com.zy包下存放业务代码<br>              ——resources文件夹下存放资源文件<br>              ——其它主要有Web.xml和Pom.xml文件</p>
<h4 id="2、pom-xml"><a href="#2、pom-xml" class="headerlink" title="2、pom.xml"></a>2、pom.xml</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div></pre></td><td class="code"><pre><div class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  </div><div class="line">  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;  </div><div class="line">  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;  </div><div class="line">  &lt;groupId&gt;com.zy&lt;/groupId&gt;  </div><div class="line">  &lt;artifactId&gt;jersey&lt;/artifactId&gt;  </div><div class="line">  &lt;packaging&gt;war&lt;/packaging&gt;  </div><div class="line">  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;  </div><div class="line">  &lt;name&gt;jersey Maven Webapp&lt;/name&gt;  </div><div class="line">  &lt;url&gt;http://maven.apache.org&lt;/url&gt;  </div><div class="line">    </div><div class="line">  &lt;properties&gt;  </div><div class="line">        &lt;!-- 指明使用JDK8 --&gt;  </div><div class="line">        &lt;java-version&gt;1.8&lt;/java-version&gt;  </div><div class="line">        &lt;!-- 指明使用utf-8编码 --&gt;  </div><div class="line">        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;  </div><div class="line">        &lt;spring3.version&gt;4.2.6.RELEASE&lt;/spring3.version&gt;  </div><div class="line">        &lt;jersey.version&gt;2.22.2&lt;/jersey.version&gt;  </div><div class="line">    &lt;/properties&gt;  </div><div class="line">      </div><div class="line">      </div><div class="line">  &lt;dependencies&gt;  </div><div class="line">    &lt;dependency&gt;  </div><div class="line">      &lt;groupId&gt;junit&lt;/groupId&gt;  </div><div class="line">      &lt;artifactId&gt;junit&lt;/artifactId&gt;  </div><div class="line">      &lt;version&gt;3.8.1&lt;/version&gt;  </div><div class="line">      &lt;scope&gt;test&lt;/scope&gt;  </div><div class="line">    &lt;/dependency&gt;  </div><div class="line">    &lt;dependency&gt;  </div><div class="line">    &lt;groupId&gt;redis.clients&lt;/groupId&gt;  </div><div class="line">    &lt;artifactId&gt;jedis&lt;/artifactId&gt;  </div><div class="line">    &lt;version&gt;2.9.0&lt;/version&gt;  </div><div class="line">    &lt;/dependency&gt;  </div><div class="line">    &lt;!-- Jersey依赖 --&gt;  </div><div class="line">    &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;$&#123;jersey.version&#125;&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.springframework&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;$&#123;spring3.version&#125;&lt;/version&gt;  </div><div class="line">            &lt;scope&gt;compile&lt;/scope&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;jersey-spring3&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;$&#123;jersey.version&#125;&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;$&#123;jersey.version&#125;&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">    &lt;!-- 加入mysql驱动依赖包 --&gt;  </div><div class="line">    &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;mysql&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;5.1.27&lt;/version&gt;  </div><div class="line">    &lt;/dependency&gt;  </div><div class="line">      </div><div class="line">    &lt;!-- 引入mybatis --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.1.1&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;3.2.8&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">    &lt;!-- 引入数据源 --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;druid&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.0.1&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.7.4&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;!-- 加入fastjson依赖包 --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.1.37&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;pagehelper&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;3.7.6&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;cglib&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;cglib&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;2.2.2&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;commons-io&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;2.4&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;jersey-bean-validation&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;2.22.2&lt;/version&gt;  </div><div class="line">            &lt;exclusions&gt;  </div><div class="line">                &lt;exclusion&gt;  </div><div class="line">                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;  </div><div class="line">                    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;  </div><div class="line">                &lt;/exclusion&gt;  </div><div class="line">            &lt;/exclusions&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.7.0&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">          </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.7.5&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;!-- E起充解码包 --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.extracme.evready&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;decode&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.1.6&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.extracme&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;evreadyHelp&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;!-- disconf注解插件 --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.baidu.disconf&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;disconf-client&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;2.6.36&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;4.5.2&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  &lt;/dependencies&gt;  </div><div class="line">   </div><div class="line">  &lt;build&gt;  </div><div class="line">    &lt;finalName&gt;jersey&lt;/finalName&gt;  </div><div class="line">        &lt;plugins&gt;  </div><div class="line">            &lt;plugin&gt;  </div><div class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  </div><div class="line">                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;  </div><div class="line">                &lt;version&gt;2.18.1&lt;/version&gt;  </div><div class="line">                &lt;configuration&gt;  </div><div class="line">                    &lt;skipTests&gt;true&lt;/skipTests&gt;  </div><div class="line">                &lt;/configuration&gt;  </div><div class="line">            &lt;/plugin&gt;  </div><div class="line">            &lt;plugin&gt;  </div><div class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  </div><div class="line">                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;  </div><div class="line">                &lt;version&gt;2.3.2&lt;/version&gt;  </div><div class="line">                &lt;configuration&gt;  </div><div class="line">                    &lt;skipTests&gt;true&lt;/skipTests&gt;  </div><div class="line">                    &lt;source&gt;1.8&lt;/source&gt;  </div><div class="line">                    &lt;target&gt;1.8&lt;/target&gt;  </div><div class="line">                &lt;/configuration&gt;  </div><div class="line">            &lt;/plugin&gt;  </div><div class="line">        &lt;/plugins&gt;  </div><div class="line">  &lt;/build&gt;  </div><div class="line">&lt;/project&gt;</div></pre></td></tr></table></figure>
<p>以上就是项目所依赖的jar包，其中有一些是项目需要的可以忽略，重点是Jersey和spring以及mybatis的依赖，上面有相关的注释。</p>
<h4 id="3、web-xml"><a href="#3、web-xml" class="headerlink" title="3、web.xml"></a>3、web.xml</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">&lt;web-app&gt;  </div><div class="line">      </div><div class="line">    &lt;listener&gt;  </div><div class="line">        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;  </div><div class="line">    &lt;/listener&gt;  </div><div class="line">    &lt;listener&gt;  </div><div class="line">        &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;  </div><div class="line">    &lt;/listener&gt;  </div><div class="line">    &lt;context-param&gt;  </div><div class="line">        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;  </div><div class="line">        &lt;param-value&gt;classpath:spring.xml&lt;/param-value&gt;  </div><div class="line">    &lt;/context-param&gt;  </div><div class="line">    &lt;servlet&gt;  </div><div class="line">        &lt;servlet-name&gt;jersey&lt;/servlet-name&gt;  </div><div class="line">        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;  </div><div class="line">        &lt;init-param&gt;  </div><div class="line">            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;  </div><div class="line">            &lt;param-value&gt;com.zy.StartApplication&lt;/param-value&gt;  </div><div class="line">              </div><div class="line">        &lt;/init-param&gt;  </div><div class="line">        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;  </div><div class="line">    &lt;/servlet&gt;  </div><div class="line">    &lt;servlet-mapping&gt;  </div><div class="line">        &lt;servlet-name&gt;jersey&lt;/servlet-name&gt;  </div><div class="line">        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  </div><div class="line">    &lt;/servlet-mapping&gt;  </div><div class="line">&lt;/web-app&gt;</div></pre></td></tr></table></figure>
<p>以上是web.xml的配置。<br>——listener定义了Spring框架中的Bean随着Web容器启动而被创建。<br>——context-param定义了Spring.xml的位置。<br>——servlet定义了org.glassfish.jersey.servlet.ServletContainer，相当于对客户端的请求（/*）进行了拦截，同时还有一个启动参数，它是Application类的实现，需要我们自己定义，利用它来注册资源，实现如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">public class StartApplication extends ResourceConfig &#123;  </div><div class="line">  </div><div class="line">    /**  </div><div class="line">     * Register JAX-RS application components.  </div><div class="line">     */  </div><div class="line">    public StartApplication() &#123;  </div><div class="line">        //register(AuthRequestFilter.class);  </div><div class="line">        packages(&quot;com.zy.resource&quot;);  </div><div class="line">      </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="4、spring-mybatis-xml和mybatis-config-xml以及spring-xml"><a href="#4、spring-mybatis-xml和mybatis-config-xml以及spring-xml" class="headerlink" title="4、spring-mybatis.xml和mybatis-config.xml以及spring.xml"></a>4、spring-mybatis.xml和mybatis-config.xml以及spring.xml</h4><p>Spring-mybatis.xml如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  </div><div class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  </div><div class="line">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;  </div><div class="line">    xmlns:c=&quot;http://www.springframework.org/schema/c&quot; xmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;  </div><div class="line">    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  </div><div class="line">    xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot; xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;  </div><div class="line">    xmlns:lang=&quot;http://www.springframework.org/schema/lang&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;  </div><div class="line">    xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:task=&quot;http://www.springframework.org/schema/task&quot;  </div><div class="line">    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;  </div><div class="line">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd  </div><div class="line">        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd  </div><div class="line">        http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd  </div><div class="line">        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd  </div><div class="line">        http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc.xsd  </div><div class="line">        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee.xsd  </div><div class="line">        http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang.xsd  </div><div class="line">        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd  </div><div class="line">        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task.xsd  </div><div class="line">        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd  </div><div class="line">        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt;  </div><div class="line">          </div><div class="line">      </div><div class="line">          </div><div class="line">          </div><div class="line">    &lt;!-- 配置测试环境数据源 --&gt;  </div><div class="line">    &lt;bean name=&quot;test-dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;  </div><div class="line">        init-method=&quot;init&quot; destroy-method=&quot;close&quot;&gt;  </div><div class="line">        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/jersey-test?useUnicode=true&amp;characterEncoding=UTF-8&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;password&quot; value=&quot;&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;!-- 初始化连接大小 --&gt;  </div><div class="line">        &lt;property name=&quot;initialSize&quot; value=&quot;0&quot; /&gt;  </div><div class="line">        &lt;!-- 连接池最大使用连接数量 --&gt;  </div><div class="line">        &lt;property name=&quot;maxActive&quot; value=&quot;20&quot; /&gt;  </div><div class="line">        &lt;!-- 连接池最小空闲 --&gt;  </div><div class="line">        &lt;property name=&quot;minIdle&quot; value=&quot;0&quot; /&gt;  </div><div class="line">        &lt;!-- 获取连接最大等待时间 --&gt;  </div><div class="line">        &lt;property name=&quot;maxWait&quot; value=&quot;60000&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;property name=&quot;testOnBorrow&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;testOnReturn&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;!-- 配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒 --&gt;  </div><div class="line">        &lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;60000&quot; /&gt;  </div><div class="line">        &lt;!-- 配置一个连接在池中最小生存的时间，单位是毫秒 --&gt;  </div><div class="line">        &lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;25200000&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;!-- 打开removeAbandoned功能 --&gt;  </div><div class="line">        &lt;property name=&quot;removeAbandoned&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;!-- 1800秒，也就是30分钟 --&gt;  </div><div class="line">        &lt;property name=&quot;removeAbandonedTimeout&quot; value=&quot;1800&quot; /&gt;  </div><div class="line">        &lt;!-- 关闭abanded连接时输出错误日志 --&gt;  </div><div class="line">        &lt;property name=&quot;logAbandoned&quot; value=&quot;true&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;!-- 监控数据库 --&gt;  </div><div class="line">        &lt;!-- &lt;property name=&quot;filters&quot; value=&quot;mergeStat&quot; /&gt; --&gt;  </div><div class="line">        &lt;property name=&quot;filters&quot; value=&quot;stat&quot; /&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">      </div><div class="line">          </div><div class="line">          </div><div class="line">    &lt;!--根据dataSource和configLocation创建一个sqlSessionFactory --&gt;  </div><div class="line">    &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;  </div><div class="line">        &lt;property name=&quot;dataSource&quot; ref=&quot;test-dataSource&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot;&gt;&lt;/property&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">    &lt;bean id=&quot;sqlSession&quot; class=&quot;org.mybatis.spring.SqlSessionTemplate&quot;  </div><div class="line">        scope=&quot;prototype&quot;&gt;  </div><div class="line">        &lt;constructor-arg index=&quot;0&quot; ref=&quot;sqlSessionFactory&quot; /&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">     &lt;!-- 配置事务管理器 --&gt;  </div><div class="line">    &lt;bean name=&quot;transactionManager&quot;  </div><div class="line">        class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;  </div><div class="line">        &lt;property name=&quot;dataSource&quot; ref=&quot;test-dataSource&quot;&gt;&lt;/property&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">  </div><div class="line">    &lt;!-- 注解方式配置事物 --&gt;  </div><div class="line">     &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;   </div><div class="line">  </div><div class="line">    &lt;bean id=&quot;sqlSessionCache&quot; class=&quot;com.zy.utils.SqlSessionCache&quot;  </div><div class="line">        init-method=&quot;initMapper&quot;&gt;  </div><div class="line">        &lt;!-- 扫描的映射mapper.xml的文件路径 --&gt;  </div><div class="line">        &lt;property name=&quot;packageSearchPath&quot; value=&quot;classpath*:com/zy/*/sql/*.xml&quot;&gt;&lt;/property&gt;  </div><div class="line">        &lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot;&gt;&lt;/property&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">    &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;  </div><div class="line">        &lt;property name=&quot;basePackage&quot; value=&quot;com.zy.*.mapper&quot; /&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">      </div><div class="line">    &lt;bean id=&quot;framelnterceptor&quot; class=&quot;com.zy.utils.Framelnterceptor&quot; /&gt;   </div><div class="line">    &lt;aop:aspectj-autoproxy/&gt;     </div><div class="line">&lt;/beans&gt;</div></pre></td></tr></table></figure>
<p>mybatis-config.xml如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  </div><div class="line">&lt;!DOCTYPE configuration PUBLIC    </div><div class="line">    &quot;-//mybatis.org//DTD Config 3.0//EN&quot;    </div><div class="line">    &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;    </div><div class="line">&lt;configuration&gt;    </div><div class="line">&lt;!--     &lt;properties resource=&quot;project.properties&quot; /&gt; --&gt;  </div><div class="line">    &lt;settings&gt;    </div><div class="line">        &lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;multipleResultSetsEnabled&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;useColumnLabel&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;useGeneratedKeys&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;autoMappingBehavior&quot; value=&quot;PARTIAL&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;defaultExecutorType&quot; value=&quot;SIMPLE&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;defaultStatementTimeout&quot; value=&quot;25&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;safeRowBoundsEnabled&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;localCacheScope&quot; value=&quot;SESSION&quot; /&gt;  </div><div class="line">        &lt;!-- &lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot; /&gt; --&gt;  </div><div class="line">        &lt;setting name=&quot;jdbcTypeForNull&quot; value=&quot;OTHER&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;lazyLoadTriggerMethods&quot; value=&quot;equals,clone,hashCode,toString&quot; /&gt;   </div><div class="line">    &lt;/settings&gt;&lt;/configuration&gt;</div></pre></td></tr></table></figure>
<p>Spring.xml的配置如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  </div><div class="line">  </div><div class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  </div><div class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  </div><div class="line">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  </div><div class="line">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans  </div><div class="line">  http://www.springframework.org/schema/beans/spring-beans.xsd  </div><div class="line">  http://www.springframework.org/schema/context  </div><div class="line">  http://www.springframework.org/schema/context/spring-context.xsd&quot;  </div><div class="line">        &gt;  </div><div class="line">    &lt;!-- 自动扫描dao和service包(自动注入) --&gt;  </div><div class="line">    &lt;context:component-scan base-package=&quot;com.zy.*&quot; /&gt;  </div><div class="line">    &lt;import resource=&quot;classpath:spring-mybatis.xml&quot; /&gt;  </div><div class="line">&lt;/beans&gt;</div></pre></td></tr></table></figure>
<p>注意：在spring-mybatis.xml配置文件的底部配置了一个拦截器——<br><code>&lt;bean id=&quot;framelnterceptor&quot; class=&quot;com.zy.utils.Framelnterceptor&quot; /&gt;</code>     ——作用是输出请求接口的信息和接口返回的信息，以及获取某些与Token相关的信息。</p>
<h4 id="5、请求过程"><a href="#5、请求过程" class="headerlink" title="5、请求过程"></a>5、请求过程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">Resources</div><div class="line">package com.zy.resource;</div><div class="line"></div><div class="line">import javax.ws.rs.Consumes;</div><div class="line">import javax.ws.rs.GET;</div><div class="line">import javax.ws.rs.Path;</div><div class="line">import javax.ws.rs.Produces;</div><div class="line">import javax.ws.rs.core.MediaType;</div><div class="line"></div><div class="line"></div><div class="line">@Path(&quot;/helloworld&quot;)</div><div class="line">public class RestHelloWorld &#123;</div><div class="line">	</div><div class="line">	@GET</div><div class="line">	@Consumes(MediaType.APPLICATION_JSON)</div><div class="line">	@Produces(&quot;application/json;charset=UTF-8&quot;)</div><div class="line">	public String sayHelloWorld()&#123;</div><div class="line">		return &quot;Hello ZY!!!大苏打&quot;;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>————这是一个简单的获取资源，使用GET方式获取，屏幕输出     Hello ZY!!!大苏打 。</p>
<p>资源类是一个简单的 Java 对象 (POJO)，可以实现任何接口，简单、可重用性强。<br>资源类上的常用注解有：<br>@Path，标注资源类或者方法的相对路径<br>@GET，@PUT，@POST，@DELETE，标注方法是HTTP请求的类型。<br>@Produces，标注返回的MIME媒体类型<br>@Consumes，标注可接受请求的MIME媒体类型<br>@PathParam，@QueryParam，@HeaderParam，@CookieParam，@MatrixParam，@FormParam<br>分别标注方法的参数来自于HTTP请求的不同位置，例如<br>@PathParam来自于URL的路径，<br>@QueryParam来自于URL的查询参数，<br>@HeaderParam来自于HTTP请求的头信息，<br>@CookieParam来自于HTTP请求的Cookie。</p>
<p>##<strong>总结：以上就是一个简单的Jersey框架搭建过程，其中涉及到的很多东西这里没有详细解释，日后深入理解再详谈。</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、什么是Jersey&quot;&gt;&lt;a href=&quot;#一、什么是Jersey&quot; class=&quot;headerlink&quot; title=&quot;一、什么是Jersey&quot;&gt;&lt;/a&gt;一、什么是Jersey&lt;/h2&gt;&lt;p&gt;   Jersey 是一个Java规范（JAX-RS）下的基于Res
    
    </summary>
    
      <category term="编程" scheme="http://yoursite.com/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
      <category term="jersey" scheme="http://yoursite.com/tags/jersey/"/>
    
  </entry>
  
  <entry>
    <title>Jersey—— 一个基于Rest风格的Web Service开发框架</title>
    <link href="http://yoursite.com/2017/07/10/article/"/>
    <id>http://yoursite.com/2017/07/10/article/</id>
    <published>2017-07-10T12:30:20.000Z</published>
    <updated>2017-07-10T14:16:09.611Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、什么是Jersey"><a href="#一、什么是Jersey" class="headerlink" title="一、什么是Jersey"></a>一、什么是Jersey</h2><p>   Jersey 是一个Java规范（JAX-RS）下的基于Rest风格的Web Service开发框架。</p>
<p>   说的直白一点，主要应用于移动项目，用来给移动终端和服务端传递数据。</p>
<p>   Rest则是一种目前主流的软件架构风格，它可以通过一套统一的接口为 Web，iOS和Android提供服务。因为有些平台不需要显式的前端，只需要一套提供服务的接口，于是就有了Rest风格的软件架构。</p>
<h2 id="二、Jersey-Spring-Mybatis搭建一个简单的Web-Service"><a href="#二、Jersey-Spring-Mybatis搭建一个简单的Web-Service" class="headerlink" title="二、Jersey+Spring+Mybatis搭建一个简单的Web Service"></a>二、Jersey+Spring+Mybatis搭建一个简单的Web Service</h2><p>####1、在Eclipse下创建一个Maven工程<br>工程目录结构如下图：<br><img src="http://img.blog.csdn.net/20170710212939408?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYmFieWxvdmVfQmFMZQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="目录"><br>   上图中——com.zy包下存放业务代码<br>              ——resources文件夹下存放资源文件<br>              ——其它主要有Web.xml和Pom.xml文件</p>
<p>####2、pom.xml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div></pre></td><td class="code"><pre><div class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  </div><div class="line">  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;  </div><div class="line">  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;  </div><div class="line">  &lt;groupId&gt;com.zy&lt;/groupId&gt;  </div><div class="line">  &lt;artifactId&gt;jersey&lt;/artifactId&gt;  </div><div class="line">  &lt;packaging&gt;war&lt;/packaging&gt;  </div><div class="line">  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;  </div><div class="line">  &lt;name&gt;jersey Maven Webapp&lt;/name&gt;  </div><div class="line">  &lt;url&gt;http://maven.apache.org&lt;/url&gt;  </div><div class="line">    </div><div class="line">  &lt;properties&gt;  </div><div class="line">        &lt;!-- 指明使用JDK8 --&gt;  </div><div class="line">        &lt;java-version&gt;1.8&lt;/java-version&gt;  </div><div class="line">        &lt;!-- 指明使用utf-8编码 --&gt;  </div><div class="line">        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;  </div><div class="line">        &lt;spring3.version&gt;4.2.6.RELEASE&lt;/spring3.version&gt;  </div><div class="line">        &lt;jersey.version&gt;2.22.2&lt;/jersey.version&gt;  </div><div class="line">    &lt;/properties&gt;  </div><div class="line">      </div><div class="line">      </div><div class="line">  &lt;dependencies&gt;  </div><div class="line">    &lt;dependency&gt;  </div><div class="line">      &lt;groupId&gt;junit&lt;/groupId&gt;  </div><div class="line">      &lt;artifactId&gt;junit&lt;/artifactId&gt;  </div><div class="line">      &lt;version&gt;3.8.1&lt;/version&gt;  </div><div class="line">      &lt;scope&gt;test&lt;/scope&gt;  </div><div class="line">    &lt;/dependency&gt;  </div><div class="line">    &lt;dependency&gt;  </div><div class="line">    &lt;groupId&gt;redis.clients&lt;/groupId&gt;  </div><div class="line">    &lt;artifactId&gt;jedis&lt;/artifactId&gt;  </div><div class="line">    &lt;version&gt;2.9.0&lt;/version&gt;  </div><div class="line">    &lt;/dependency&gt;  </div><div class="line">    &lt;!-- Jersey依赖 --&gt;  </div><div class="line">    &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;$&#123;jersey.version&#125;&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.springframework&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;$&#123;spring3.version&#125;&lt;/version&gt;  </div><div class="line">            &lt;scope&gt;compile&lt;/scope&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;jersey-spring3&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;$&#123;jersey.version&#125;&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;$&#123;jersey.version&#125;&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">    &lt;!-- 加入mysql驱动依赖包 --&gt;  </div><div class="line">    &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;mysql&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;5.1.27&lt;/version&gt;  </div><div class="line">    &lt;/dependency&gt;  </div><div class="line">      </div><div class="line">    &lt;!-- 引入mybatis --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.1.1&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;3.2.8&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">    &lt;!-- 引入数据源 --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;druid&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.0.1&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.7.4&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;!-- 加入fastjson依赖包 --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.1.37&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;pagehelper&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;3.7.6&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;cglib&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;cglib&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;2.2.2&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;commons-io&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;2.4&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;jersey-bean-validation&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;2.22.2&lt;/version&gt;  </div><div class="line">            &lt;exclusions&gt;  </div><div class="line">                &lt;exclusion&gt;  </div><div class="line">                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;  </div><div class="line">                    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;  </div><div class="line">                &lt;/exclusion&gt;  </div><div class="line">            &lt;/exclusions&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.7.0&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">          </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.7.5&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;!-- E起充解码包 --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.extracme.evready&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;decode&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.1.6&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.extracme&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;evreadyHelp&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;!-- disconf注解插件 --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.baidu.disconf&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;disconf-client&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;2.6.36&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;4.5.2&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  &lt;/dependencies&gt;  </div><div class="line">   </div><div class="line">  &lt;build&gt;  </div><div class="line">    &lt;finalName&gt;jersey&lt;/finalName&gt;  </div><div class="line">        &lt;plugins&gt;  </div><div class="line">            &lt;plugin&gt;  </div><div class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  </div><div class="line">                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;  </div><div class="line">                &lt;version&gt;2.18.1&lt;/version&gt;  </div><div class="line">                &lt;configuration&gt;  </div><div class="line">                    &lt;skipTests&gt;true&lt;/skipTests&gt;  </div><div class="line">                &lt;/configuration&gt;  </div><div class="line">            &lt;/plugin&gt;  </div><div class="line">            &lt;plugin&gt;  </div><div class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  </div><div class="line">                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;  </div><div class="line">                &lt;version&gt;2.3.2&lt;/version&gt;  </div><div class="line">                &lt;configuration&gt;  </div><div class="line">                    &lt;skipTests&gt;true&lt;/skipTests&gt;  </div><div class="line">                    &lt;source&gt;1.8&lt;/source&gt;  </div><div class="line">                    &lt;target&gt;1.8&lt;/target&gt;  </div><div class="line">                &lt;/configuration&gt;  </div><div class="line">            &lt;/plugin&gt;  </div><div class="line">        &lt;/plugins&gt;  </div><div class="line">  &lt;/build&gt;  </div><div class="line">&lt;/project&gt;</div></pre></td></tr></table></figure>
<p>以上就是项目所依赖的jar包，其中有一些是项目需要的可以忽略，重点是Jersey和spring以及mybatis的依赖，上面有相关的注释。</p>
<p>####3、web.xml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">&lt;web-app&gt;  </div><div class="line">      </div><div class="line">    &lt;listener&gt;  </div><div class="line">        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;  </div><div class="line">    &lt;/listener&gt;  </div><div class="line">    &lt;listener&gt;  </div><div class="line">        &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;  </div><div class="line">    &lt;/listener&gt;  </div><div class="line">    &lt;context-param&gt;  </div><div class="line">        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;  </div><div class="line">        &lt;param-value&gt;classpath:spring.xml&lt;/param-value&gt;  </div><div class="line">    &lt;/context-param&gt;  </div><div class="line">    &lt;servlet&gt;  </div><div class="line">        &lt;servlet-name&gt;jersey&lt;/servlet-name&gt;  </div><div class="line">        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;  </div><div class="line">        &lt;init-param&gt;  </div><div class="line">            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;  </div><div class="line">            &lt;param-value&gt;com.zy.StartApplication&lt;/param-value&gt;  </div><div class="line">              </div><div class="line">        &lt;/init-param&gt;  </div><div class="line">        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;  </div><div class="line">    &lt;/servlet&gt;  </div><div class="line">    &lt;servlet-mapping&gt;  </div><div class="line">        &lt;servlet-name&gt;jersey&lt;/servlet-name&gt;  </div><div class="line">        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  </div><div class="line">    &lt;/servlet-mapping&gt;  </div><div class="line">&lt;/web-app&gt;</div></pre></td></tr></table></figure></p>
<p>以上是web.xml的配置。<br>——listener定义了Spring框架中的Bean随着Web容器启动而被创建。<br>——context-param定义了Spring.xml的位置。<br>——servlet定义了org.glassfish.jersey.servlet.ServletContainer，相当于对客户端的请求（/*）进行了拦截，同时还有一个启动参数，它是Application类的实现，需要我们自己定义，利用它来注册资源，实现如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">public class StartApplication extends ResourceConfig &#123;  </div><div class="line">  </div><div class="line">    /**  </div><div class="line">     * Register JAX-RS application components.  </div><div class="line">     */  </div><div class="line">    public StartApplication() &#123;  </div><div class="line">        //register(AuthRequestFilter.class);  </div><div class="line">        packages(&quot;com.zy.resource&quot;);  </div><div class="line">      </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>####4、spring-mybatis.xml和mybatis-config.xml以及spring.xml<br>Spring-mybatis.xml如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  </div><div class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  </div><div class="line">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;  </div><div class="line">    xmlns:c=&quot;http://www.springframework.org/schema/c&quot; xmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;  </div><div class="line">    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  </div><div class="line">    xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot; xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;  </div><div class="line">    xmlns:lang=&quot;http://www.springframework.org/schema/lang&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;  </div><div class="line">    xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:task=&quot;http://www.springframework.org/schema/task&quot;  </div><div class="line">    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;  </div><div class="line">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd  </div><div class="line">        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd  </div><div class="line">        http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd  </div><div class="line">        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd  </div><div class="line">        http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc.xsd  </div><div class="line">        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee.xsd  </div><div class="line">        http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang.xsd  </div><div class="line">        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd  </div><div class="line">        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task.xsd  </div><div class="line">        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd  </div><div class="line">        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt;  </div><div class="line">          </div><div class="line">      </div><div class="line">          </div><div class="line">          </div><div class="line">    &lt;!-- 配置测试环境数据源 --&gt;  </div><div class="line">    &lt;bean name=&quot;test-dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;  </div><div class="line">        init-method=&quot;init&quot; destroy-method=&quot;close&quot;&gt;  </div><div class="line">        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/jersey-test?useUnicode=true&amp;characterEncoding=UTF-8&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;password&quot; value=&quot;&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;!-- 初始化连接大小 --&gt;  </div><div class="line">        &lt;property name=&quot;initialSize&quot; value=&quot;0&quot; /&gt;  </div><div class="line">        &lt;!-- 连接池最大使用连接数量 --&gt;  </div><div class="line">        &lt;property name=&quot;maxActive&quot; value=&quot;20&quot; /&gt;  </div><div class="line">        &lt;!-- 连接池最小空闲 --&gt;  </div><div class="line">        &lt;property name=&quot;minIdle&quot; value=&quot;0&quot; /&gt;  </div><div class="line">        &lt;!-- 获取连接最大等待时间 --&gt;  </div><div class="line">        &lt;property name=&quot;maxWait&quot; value=&quot;60000&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;property name=&quot;testOnBorrow&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;testOnReturn&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;!-- 配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒 --&gt;  </div><div class="line">        &lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;60000&quot; /&gt;  </div><div class="line">        &lt;!-- 配置一个连接在池中最小生存的时间，单位是毫秒 --&gt;  </div><div class="line">        &lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;25200000&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;!-- 打开removeAbandoned功能 --&gt;  </div><div class="line">        &lt;property name=&quot;removeAbandoned&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;!-- 1800秒，也就是30分钟 --&gt;  </div><div class="line">        &lt;property name=&quot;removeAbandonedTimeout&quot; value=&quot;1800&quot; /&gt;  </div><div class="line">        &lt;!-- 关闭abanded连接时输出错误日志 --&gt;  </div><div class="line">        &lt;property name=&quot;logAbandoned&quot; value=&quot;true&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;!-- 监控数据库 --&gt;  </div><div class="line">        &lt;!-- &lt;property name=&quot;filters&quot; value=&quot;mergeStat&quot; /&gt; --&gt;  </div><div class="line">        &lt;property name=&quot;filters&quot; value=&quot;stat&quot; /&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">      </div><div class="line">          </div><div class="line">          </div><div class="line">    &lt;!--根据dataSource和configLocation创建一个sqlSessionFactory --&gt;  </div><div class="line">    &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;  </div><div class="line">        &lt;property name=&quot;dataSource&quot; ref=&quot;test-dataSource&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot;&gt;&lt;/property&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">    &lt;bean id=&quot;sqlSession&quot; class=&quot;org.mybatis.spring.SqlSessionTemplate&quot;  </div><div class="line">        scope=&quot;prototype&quot;&gt;  </div><div class="line">        &lt;constructor-arg index=&quot;0&quot; ref=&quot;sqlSessionFactory&quot; /&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">     &lt;!-- 配置事务管理器 --&gt;  </div><div class="line">    &lt;bean name=&quot;transactionManager&quot;  </div><div class="line">        class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;  </div><div class="line">        &lt;property name=&quot;dataSource&quot; ref=&quot;test-dataSource&quot;&gt;&lt;/property&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">  </div><div class="line">    &lt;!-- 注解方式配置事物 --&gt;  </div><div class="line">     &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;   </div><div class="line">  </div><div class="line">    &lt;bean id=&quot;sqlSessionCache&quot; class=&quot;com.zy.utils.SqlSessionCache&quot;  </div><div class="line">        init-method=&quot;initMapper&quot;&gt;  </div><div class="line">        &lt;!-- 扫描的映射mapper.xml的文件路径 --&gt;  </div><div class="line">        &lt;property name=&quot;packageSearchPath&quot; value=&quot;classpath*:com/zy/*/sql/*.xml&quot;&gt;&lt;/property&gt;  </div><div class="line">        &lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot;&gt;&lt;/property&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">    &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;  </div><div class="line">        &lt;property name=&quot;basePackage&quot; value=&quot;com.zy.*.mapper&quot; /&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">      </div><div class="line">    &lt;bean id=&quot;framelnterceptor&quot; class=&quot;com.zy.utils.Framelnterceptor&quot; /&gt;   </div><div class="line">    &lt;aop:aspectj-autoproxy/&gt;     </div><div class="line">&lt;/beans&gt;</div></pre></td></tr></table></figure>
<p>mybatis-config.xml如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  </div><div class="line">&lt;!DOCTYPE configuration PUBLIC    </div><div class="line">    &quot;-//mybatis.org//DTD Config 3.0//EN&quot;    </div><div class="line">    &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;    </div><div class="line">&lt;configuration&gt;    </div><div class="line">&lt;!--     &lt;properties resource=&quot;project.properties&quot; /&gt; --&gt;  </div><div class="line">    &lt;settings&gt;    </div><div class="line">        &lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;multipleResultSetsEnabled&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;useColumnLabel&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;useGeneratedKeys&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;autoMappingBehavior&quot; value=&quot;PARTIAL&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;defaultExecutorType&quot; value=&quot;SIMPLE&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;defaultStatementTimeout&quot; value=&quot;25&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;safeRowBoundsEnabled&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;localCacheScope&quot; value=&quot;SESSION&quot; /&gt;  </div><div class="line">        &lt;!-- &lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot; /&gt; --&gt;  </div><div class="line">        &lt;setting name=&quot;jdbcTypeForNull&quot; value=&quot;OTHER&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;lazyLoadTriggerMethods&quot; value=&quot;equals,clone,hashCode,toString&quot; /&gt;   </div><div class="line">    &lt;/settings&gt;&lt;/configuration&gt;</div></pre></td></tr></table></figure>
<p>Spring.xml的配置如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  </div><div class="line">  </div><div class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  </div><div class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  </div><div class="line">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  </div><div class="line">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans  </div><div class="line">  http://www.springframework.org/schema/beans/spring-beans.xsd  </div><div class="line">  http://www.springframework.org/schema/context  </div><div class="line">  http://www.springframework.org/schema/context/spring-context.xsd&quot;  </div><div class="line">        &gt;  </div><div class="line">    &lt;!-- 自动扫描dao和service包(自动注入) --&gt;  </div><div class="line">    &lt;context:component-scan base-package=&quot;com.zy.*&quot; /&gt;  </div><div class="line">    &lt;import resource=&quot;classpath:spring-mybatis.xml&quot; /&gt;  </div><div class="line">&lt;/beans&gt;</div></pre></td></tr></table></figure>
<p>注意：在spring-mybatis.xml配置文件的底部配置了一个拦截器——<br><code>&lt;bean id=&quot;framelnterceptor&quot; class=&quot;com.zy.utils.Framelnterceptor&quot; /&gt;</code>     ——作用是输出请求接口的信息和接口返回的信息，以及获取某些与Token相关的信息。</p>
<p>####5、请求过程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">Resources</div><div class="line">package com.zy.resource;</div><div class="line"></div><div class="line">import javax.ws.rs.Consumes;</div><div class="line">import javax.ws.rs.GET;</div><div class="line">import javax.ws.rs.Path;</div><div class="line">import javax.ws.rs.Produces;</div><div class="line">import javax.ws.rs.core.MediaType;</div><div class="line"></div><div class="line"></div><div class="line">@Path(&quot;/helloworld&quot;)</div><div class="line">public class RestHelloWorld &#123;</div><div class="line">	</div><div class="line">	@GET</div><div class="line">	@Consumes(MediaType.APPLICATION_JSON)</div><div class="line">	@Produces(&quot;application/json;charset=UTF-8&quot;)</div><div class="line">	public String sayHelloWorld()&#123;</div><div class="line">		return &quot;Hello ZY!!!大苏打&quot;;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>————这是一个简单的获取资源，使用GET方式获取，屏幕输出     Hello ZY!!!大苏打 。</p>
<p>资源类是一个简单的 Java 对象 (POJO)，可以实现任何接口，简单、可重用性强。<br>资源类上的常用注解有：<br>@Path，标注资源类或者方法的相对路径<br>@GET，@PUT，@POST，@DELETE，标注方法是HTTP请求的类型。<br>@Produces，标注返回的MIME媒体类型<br>@Consumes，标注可接受请求的MIME媒体类型<br>@PathParam，@QueryParam，@HeaderParam，@CookieParam，@MatrixParam，@FormParam<br>分别标注方法的参数来自于HTTP请求的不同位置，例如<br>@PathParam来自于URL的路径，<br>@QueryParam来自于URL的查询参数，<br>@HeaderParam来自于HTTP请求的头信息，<br>@CookieParam来自于HTTP请求的Cookie。</p>
<p>##<strong>总结：以上就是一个简单的Jersey框架搭建过程，其中涉及到的很多东西这里没有详细解释，日后深入理解再详谈。</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、什么是Jersey&quot;&gt;&lt;a href=&quot;#一、什么是Jersey&quot; class=&quot;headerlink&quot; title=&quot;一、什么是Jersey&quot;&gt;&lt;/a&gt;一、什么是Jersey&lt;/h2&gt;&lt;p&gt;   Jersey 是一个Java规范（JAX-RS）下的基于Res
    
    </summary>
    
      <category term="编程" scheme="http://yoursite.com/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Jersey—— 一个基于Rest风格的Web Service开发框架</title>
    <link href="http://yoursite.com/2017/07/10/jersey/"/>
    <id>http://yoursite.com/2017/07/10/jersey/</id>
    <published>2017-07-10T12:30:20.000Z</published>
    <updated>2017-07-10T14:15:54.191Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、什么是Jersey"><a href="#一、什么是Jersey" class="headerlink" title="一、什么是Jersey"></a>一、什么是Jersey</h2><p>   Jersey 是一个Java规范（JAX-RS）下的基于Rest风格的Web Service开发框架。</p>
<p>   说的直白一点，主要应用于移动项目，用来给移动终端和服务端传递数据。</p>
<p>   Rest则是一种目前主流的软件架构风格，它可以通过一套统一的接口为 Web，iOS和Android提供服务。因为有些平台不需要显式的前端，只需要一套提供服务的接口，于是就有了Rest风格的软件架构。</p>
<h2 id="二、Jersey-Spring-Mybatis搭建一个简单的Web-Service"><a href="#二、Jersey-Spring-Mybatis搭建一个简单的Web-Service" class="headerlink" title="二、Jersey+Spring+Mybatis搭建一个简单的Web Service"></a>二、Jersey+Spring+Mybatis搭建一个简单的Web Service</h2><p>####1、在Eclipse下创建一个Maven工程<br>工程目录结构如下图：<br><img src="http://img.blog.csdn.net/20170710212939408?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYmFieWxvdmVfQmFMZQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="目录"><br>   上图中——com.zy包下存放业务代码<br>              ——resources文件夹下存放资源文件<br>              ——其它主要有Web.xml和Pom.xml文件</p>
<p>####2、pom.xml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div></pre></td><td class="code"><pre><div class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  </div><div class="line">  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;  </div><div class="line">  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;  </div><div class="line">  &lt;groupId&gt;com.zy&lt;/groupId&gt;  </div><div class="line">  &lt;artifactId&gt;jersey&lt;/artifactId&gt;  </div><div class="line">  &lt;packaging&gt;war&lt;/packaging&gt;  </div><div class="line">  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;  </div><div class="line">  &lt;name&gt;jersey Maven Webapp&lt;/name&gt;  </div><div class="line">  &lt;url&gt;http://maven.apache.org&lt;/url&gt;  </div><div class="line">    </div><div class="line">  &lt;properties&gt;  </div><div class="line">        &lt;!-- 指明使用JDK8 --&gt;  </div><div class="line">        &lt;java-version&gt;1.8&lt;/java-version&gt;  </div><div class="line">        &lt;!-- 指明使用utf-8编码 --&gt;  </div><div class="line">        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;  </div><div class="line">        &lt;spring3.version&gt;4.2.6.RELEASE&lt;/spring3.version&gt;  </div><div class="line">        &lt;jersey.version&gt;2.22.2&lt;/jersey.version&gt;  </div><div class="line">    &lt;/properties&gt;  </div><div class="line">      </div><div class="line">      </div><div class="line">  &lt;dependencies&gt;  </div><div class="line">    &lt;dependency&gt;  </div><div class="line">      &lt;groupId&gt;junit&lt;/groupId&gt;  </div><div class="line">      &lt;artifactId&gt;junit&lt;/artifactId&gt;  </div><div class="line">      &lt;version&gt;3.8.1&lt;/version&gt;  </div><div class="line">      &lt;scope&gt;test&lt;/scope&gt;  </div><div class="line">    &lt;/dependency&gt;  </div><div class="line">    &lt;dependency&gt;  </div><div class="line">    &lt;groupId&gt;redis.clients&lt;/groupId&gt;  </div><div class="line">    &lt;artifactId&gt;jedis&lt;/artifactId&gt;  </div><div class="line">    &lt;version&gt;2.9.0&lt;/version&gt;  </div><div class="line">    &lt;/dependency&gt;  </div><div class="line">    &lt;!-- Jersey依赖 --&gt;  </div><div class="line">    &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;$&#123;jersey.version&#125;&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.springframework&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;$&#123;spring3.version&#125;&lt;/version&gt;  </div><div class="line">            &lt;scope&gt;compile&lt;/scope&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;jersey-spring3&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;$&#123;jersey.version&#125;&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;$&#123;jersey.version&#125;&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">    &lt;!-- 加入mysql驱动依赖包 --&gt;  </div><div class="line">    &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;mysql&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;5.1.27&lt;/version&gt;  </div><div class="line">    &lt;/dependency&gt;  </div><div class="line">      </div><div class="line">    &lt;!-- 引入mybatis --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.1.1&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;3.2.8&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">    &lt;!-- 引入数据源 --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;druid&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.0.1&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.7.4&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;!-- 加入fastjson依赖包 --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.1.37&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;pagehelper&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;3.7.6&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;cglib&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;cglib&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;2.2.2&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;commons-io&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;2.4&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;jersey-bean-validation&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;2.22.2&lt;/version&gt;  </div><div class="line">            &lt;exclusions&gt;  </div><div class="line">                &lt;exclusion&gt;  </div><div class="line">                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;  </div><div class="line">                    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;  </div><div class="line">                &lt;/exclusion&gt;  </div><div class="line">            &lt;/exclusions&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.7.0&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">          </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.7.5&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;!-- E起充解码包 --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.extracme.evready&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;decode&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;1.1.6&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.extracme&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;evreadyHelp&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;!-- disconf注解插件 --&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;com.baidu.disconf&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;disconf-client&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;2.6.36&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">        &lt;dependency&gt;  </div><div class="line">            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;  </div><div class="line">            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;  </div><div class="line">            &lt;version&gt;4.5.2&lt;/version&gt;  </div><div class="line">        &lt;/dependency&gt;  </div><div class="line">  &lt;/dependencies&gt;  </div><div class="line">   </div><div class="line">  &lt;build&gt;  </div><div class="line">    &lt;finalName&gt;jersey&lt;/finalName&gt;  </div><div class="line">        &lt;plugins&gt;  </div><div class="line">            &lt;plugin&gt;  </div><div class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  </div><div class="line">                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;  </div><div class="line">                &lt;version&gt;2.18.1&lt;/version&gt;  </div><div class="line">                &lt;configuration&gt;  </div><div class="line">                    &lt;skipTests&gt;true&lt;/skipTests&gt;  </div><div class="line">                &lt;/configuration&gt;  </div><div class="line">            &lt;/plugin&gt;  </div><div class="line">            &lt;plugin&gt;  </div><div class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  </div><div class="line">                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;  </div><div class="line">                &lt;version&gt;2.3.2&lt;/version&gt;  </div><div class="line">                &lt;configuration&gt;  </div><div class="line">                    &lt;skipTests&gt;true&lt;/skipTests&gt;  </div><div class="line">                    &lt;source&gt;1.8&lt;/source&gt;  </div><div class="line">                    &lt;target&gt;1.8&lt;/target&gt;  </div><div class="line">                &lt;/configuration&gt;  </div><div class="line">            &lt;/plugin&gt;  </div><div class="line">        &lt;/plugins&gt;  </div><div class="line">  &lt;/build&gt;  </div><div class="line">&lt;/project&gt;</div></pre></td></tr></table></figure>
<p>以上就是项目所依赖的jar包，其中有一些是项目需要的可以忽略，重点是Jersey和spring以及mybatis的依赖，上面有相关的注释。</p>
<p>####3、web.xml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">&lt;web-app&gt;  </div><div class="line">      </div><div class="line">    &lt;listener&gt;  </div><div class="line">        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;  </div><div class="line">    &lt;/listener&gt;  </div><div class="line">    &lt;listener&gt;  </div><div class="line">        &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;  </div><div class="line">    &lt;/listener&gt;  </div><div class="line">    &lt;context-param&gt;  </div><div class="line">        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;  </div><div class="line">        &lt;param-value&gt;classpath:spring.xml&lt;/param-value&gt;  </div><div class="line">    &lt;/context-param&gt;  </div><div class="line">    &lt;servlet&gt;  </div><div class="line">        &lt;servlet-name&gt;jersey&lt;/servlet-name&gt;  </div><div class="line">        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;  </div><div class="line">        &lt;init-param&gt;  </div><div class="line">            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;  </div><div class="line">            &lt;param-value&gt;com.zy.StartApplication&lt;/param-value&gt;  </div><div class="line">              </div><div class="line">        &lt;/init-param&gt;  </div><div class="line">        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;  </div><div class="line">    &lt;/servlet&gt;  </div><div class="line">    &lt;servlet-mapping&gt;  </div><div class="line">        &lt;servlet-name&gt;jersey&lt;/servlet-name&gt;  </div><div class="line">        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  </div><div class="line">    &lt;/servlet-mapping&gt;  </div><div class="line">&lt;/web-app&gt;</div></pre></td></tr></table></figure></p>
<p>以上是web.xml的配置。<br>——listener定义了Spring框架中的Bean随着Web容器启动而被创建。<br>——context-param定义了Spring.xml的位置。<br>——servlet定义了org.glassfish.jersey.servlet.ServletContainer，相当于对客户端的请求（/*）进行了拦截，同时还有一个启动参数，它是Application类的实现，需要我们自己定义，利用它来注册资源，实现如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">public class StartApplication extends ResourceConfig &#123;  </div><div class="line">  </div><div class="line">    /**  </div><div class="line">     * Register JAX-RS application components.  </div><div class="line">     */  </div><div class="line">    public StartApplication() &#123;  </div><div class="line">        //register(AuthRequestFilter.class);  </div><div class="line">        packages(&quot;com.zy.resource&quot;);  </div><div class="line">      </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>####4、spring-mybatis.xml和mybatis-config.xml以及spring.xml<br>Spring-mybatis.xml如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  </div><div class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  </div><div class="line">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;  </div><div class="line">    xmlns:c=&quot;http://www.springframework.org/schema/c&quot; xmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;  </div><div class="line">    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  </div><div class="line">    xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot; xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;  </div><div class="line">    xmlns:lang=&quot;http://www.springframework.org/schema/lang&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;  </div><div class="line">    xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:task=&quot;http://www.springframework.org/schema/task&quot;  </div><div class="line">    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;  </div><div class="line">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd  </div><div class="line">        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd  </div><div class="line">        http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd  </div><div class="line">        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd  </div><div class="line">        http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc.xsd  </div><div class="line">        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee.xsd  </div><div class="line">        http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang.xsd  </div><div class="line">        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd  </div><div class="line">        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task.xsd  </div><div class="line">        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd  </div><div class="line">        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt;  </div><div class="line">          </div><div class="line">      </div><div class="line">          </div><div class="line">          </div><div class="line">    &lt;!-- 配置测试环境数据源 --&gt;  </div><div class="line">    &lt;bean name=&quot;test-dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;  </div><div class="line">        init-method=&quot;init&quot; destroy-method=&quot;close&quot;&gt;  </div><div class="line">        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/jersey-test?useUnicode=true&amp;characterEncoding=UTF-8&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;password&quot; value=&quot;&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;!-- 初始化连接大小 --&gt;  </div><div class="line">        &lt;property name=&quot;initialSize&quot; value=&quot;0&quot; /&gt;  </div><div class="line">        &lt;!-- 连接池最大使用连接数量 --&gt;  </div><div class="line">        &lt;property name=&quot;maxActive&quot; value=&quot;20&quot; /&gt;  </div><div class="line">        &lt;!-- 连接池最小空闲 --&gt;  </div><div class="line">        &lt;property name=&quot;minIdle&quot; value=&quot;0&quot; /&gt;  </div><div class="line">        &lt;!-- 获取连接最大等待时间 --&gt;  </div><div class="line">        &lt;property name=&quot;maxWait&quot; value=&quot;60000&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;property name=&quot;testOnBorrow&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;testOnReturn&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;!-- 配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒 --&gt;  </div><div class="line">        &lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;60000&quot; /&gt;  </div><div class="line">        &lt;!-- 配置一个连接在池中最小生存的时间，单位是毫秒 --&gt;  </div><div class="line">        &lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;25200000&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;!-- 打开removeAbandoned功能 --&gt;  </div><div class="line">        &lt;property name=&quot;removeAbandoned&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;!-- 1800秒，也就是30分钟 --&gt;  </div><div class="line">        &lt;property name=&quot;removeAbandonedTimeout&quot; value=&quot;1800&quot; /&gt;  </div><div class="line">        &lt;!-- 关闭abanded连接时输出错误日志 --&gt;  </div><div class="line">        &lt;property name=&quot;logAbandoned&quot; value=&quot;true&quot; /&gt;  </div><div class="line">  </div><div class="line">        &lt;!-- 监控数据库 --&gt;  </div><div class="line">        &lt;!-- &lt;property name=&quot;filters&quot; value=&quot;mergeStat&quot; /&gt; --&gt;  </div><div class="line">        &lt;property name=&quot;filters&quot; value=&quot;stat&quot; /&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">      </div><div class="line">          </div><div class="line">          </div><div class="line">    &lt;!--根据dataSource和configLocation创建一个sqlSessionFactory --&gt;  </div><div class="line">    &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;  </div><div class="line">        &lt;property name=&quot;dataSource&quot; ref=&quot;test-dataSource&quot; /&gt;  </div><div class="line">        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot;&gt;&lt;/property&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">    &lt;bean id=&quot;sqlSession&quot; class=&quot;org.mybatis.spring.SqlSessionTemplate&quot;  </div><div class="line">        scope=&quot;prototype&quot;&gt;  </div><div class="line">        &lt;constructor-arg index=&quot;0&quot; ref=&quot;sqlSessionFactory&quot; /&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">     &lt;!-- 配置事务管理器 --&gt;  </div><div class="line">    &lt;bean name=&quot;transactionManager&quot;  </div><div class="line">        class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;  </div><div class="line">        &lt;property name=&quot;dataSource&quot; ref=&quot;test-dataSource&quot;&gt;&lt;/property&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">  </div><div class="line">    &lt;!-- 注解方式配置事物 --&gt;  </div><div class="line">     &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;   </div><div class="line">  </div><div class="line">    &lt;bean id=&quot;sqlSessionCache&quot; class=&quot;com.zy.utils.SqlSessionCache&quot;  </div><div class="line">        init-method=&quot;initMapper&quot;&gt;  </div><div class="line">        &lt;!-- 扫描的映射mapper.xml的文件路径 --&gt;  </div><div class="line">        &lt;property name=&quot;packageSearchPath&quot; value=&quot;classpath*:com/zy/*/sql/*.xml&quot;&gt;&lt;/property&gt;  </div><div class="line">        &lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot;&gt;&lt;/property&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">    &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;  </div><div class="line">        &lt;property name=&quot;basePackage&quot; value=&quot;com.zy.*.mapper&quot; /&gt;  </div><div class="line">    &lt;/bean&gt;  </div><div class="line">      </div><div class="line">    &lt;bean id=&quot;framelnterceptor&quot; class=&quot;com.zy.utils.Framelnterceptor&quot; /&gt;   </div><div class="line">    &lt;aop:aspectj-autoproxy/&gt;     </div><div class="line">&lt;/beans&gt;</div></pre></td></tr></table></figure>
<p>mybatis-config.xml如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  </div><div class="line">&lt;!DOCTYPE configuration PUBLIC    </div><div class="line">    &quot;-//mybatis.org//DTD Config 3.0//EN&quot;    </div><div class="line">    &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;    </div><div class="line">&lt;configuration&gt;    </div><div class="line">&lt;!--     &lt;properties resource=&quot;project.properties&quot; /&gt; --&gt;  </div><div class="line">    &lt;settings&gt;    </div><div class="line">        &lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;multipleResultSetsEnabled&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;useColumnLabel&quot; value=&quot;true&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;useGeneratedKeys&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;autoMappingBehavior&quot; value=&quot;PARTIAL&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;defaultExecutorType&quot; value=&quot;SIMPLE&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;defaultStatementTimeout&quot; value=&quot;25&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;safeRowBoundsEnabled&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;false&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;localCacheScope&quot; value=&quot;SESSION&quot; /&gt;  </div><div class="line">        &lt;!-- &lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot; /&gt; --&gt;  </div><div class="line">        &lt;setting name=&quot;jdbcTypeForNull&quot; value=&quot;OTHER&quot; /&gt;  </div><div class="line">        &lt;setting name=&quot;lazyLoadTriggerMethods&quot; value=&quot;equals,clone,hashCode,toString&quot; /&gt;   </div><div class="line">    &lt;/settings&gt;&lt;/configuration&gt;</div></pre></td></tr></table></figure>
<p>Spring.xml的配置如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  </div><div class="line">  </div><div class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  </div><div class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  </div><div class="line">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  </div><div class="line">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans  </div><div class="line">  http://www.springframework.org/schema/beans/spring-beans.xsd  </div><div class="line">  http://www.springframework.org/schema/context  </div><div class="line">  http://www.springframework.org/schema/context/spring-context.xsd&quot;  </div><div class="line">        &gt;  </div><div class="line">    &lt;!-- 自动扫描dao和service包(自动注入) --&gt;  </div><div class="line">    &lt;context:component-scan base-package=&quot;com.zy.*&quot; /&gt;  </div><div class="line">    &lt;import resource=&quot;classpath:spring-mybatis.xml&quot; /&gt;  </div><div class="line">&lt;/beans&gt;</div></pre></td></tr></table></figure>
<p>注意：在spring-mybatis.xml配置文件的底部配置了一个拦截器——<br><code>&lt;bean id=&quot;framelnterceptor&quot; class=&quot;com.zy.utils.Framelnterceptor&quot; /&gt;</code>     ——作用是输出请求接口的信息和接口返回的信息，以及获取某些与Token相关的信息。</p>
<p>####5、请求过程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">Resources</div><div class="line">package com.zy.resource;</div><div class="line"></div><div class="line">import javax.ws.rs.Consumes;</div><div class="line">import javax.ws.rs.GET;</div><div class="line">import javax.ws.rs.Path;</div><div class="line">import javax.ws.rs.Produces;</div><div class="line">import javax.ws.rs.core.MediaType;</div><div class="line"></div><div class="line"></div><div class="line">@Path(&quot;/helloworld&quot;)</div><div class="line">public class RestHelloWorld &#123;</div><div class="line">	</div><div class="line">	@GET</div><div class="line">	@Consumes(MediaType.APPLICATION_JSON)</div><div class="line">	@Produces(&quot;application/json;charset=UTF-8&quot;)</div><div class="line">	public String sayHelloWorld()&#123;</div><div class="line">		return &quot;Hello ZY!!!大苏打&quot;;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>————这是一个简单的获取资源，使用GET方式获取，屏幕输出     Hello ZY!!!大苏打 。</p>
<p>资源类是一个简单的 Java 对象 (POJO)，可以实现任何接口，简单、可重用性强。<br>资源类上的常用注解有：<br>@Path，标注资源类或者方法的相对路径<br>@GET，@PUT，@POST，@DELETE，标注方法是HTTP请求的类型。<br>@Produces，标注返回的MIME媒体类型<br>@Consumes，标注可接受请求的MIME媒体类型<br>@PathParam，@QueryParam，@HeaderParam，@CookieParam，@MatrixParam，@FormParam<br>分别标注方法的参数来自于HTTP请求的不同位置，例如<br>@PathParam来自于URL的路径，<br>@QueryParam来自于URL的查询参数，<br>@HeaderParam来自于HTTP请求的头信息，<br>@CookieParam来自于HTTP请求的Cookie。</p>
<p>##<strong>总结：以上就是一个简单的Jersey框架搭建过程，其中涉及到的很多东西这里没有详细解释，日后深入理解再详谈。</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、什么是Jersey&quot;&gt;&lt;a href=&quot;#一、什么是Jersey&quot; class=&quot;headerlink&quot; title=&quot;一、什么是Jersey&quot;&gt;&lt;/a&gt;一、什么是Jersey&lt;/h2&gt;&lt;p&gt;   Jersey 是一个Java规范（JAX-RS）下的基于Res
    
    </summary>
    
      <category term="编程" scheme="http://yoursite.com/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2017/07/09/hello-world/"/>
    <id>http://yoursite.com/2017/07/09/hello-world/</id>
    <published>2017-07-09T12:53:17.929Z</published>
    <updated>2017-07-09T12:53:17.929Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
    
  </entry>
  
</feed>
